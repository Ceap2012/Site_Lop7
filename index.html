<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>SISTEMA ESPORTIVO FINAL - QUIZ FIX</title>
    <style>
        :root { --neon: #00f2ff; --bg: #0d0d0d; }
        * { box-sizing: border-box; font-family: 'Courier New', Courier, monospace; }
        body { margin: 0; background: var(--bg); color: white; height: 100vh; display: flex; overflow: hidden; }

        /* TELAS */
        .tela { display: none; width: 100vw; height: 100vh; flex-direction: column; align-items: center; justify-content: center; position: absolute; }
        .ativa { display: flex !important; }

        .caixa-neon { background: #000; border: 2px solid var(--neon); padding: 30px; box-shadow: 0 0 20px var(--neon); text-align: center; width: 500px; }
        .workspace { display: flex; width: 100%; height: 100%; }
        .sidebar { width: 220px; border-right: 2px solid var(--neon); padding: 20px; display: flex; flex-direction: column; gap: 10px; background: #000; }
        .main { flex: 1; padding: 40px; overflow-y: auto; }

        h1, h2 { color: var(--neon); text-shadow: 0 0 10px var(--neon); text-transform: uppercase; }
        button { background: transparent; color: var(--neon); border: 1px solid var(--neon); padding: 12px; cursor: pointer; font-weight: bold; margin: 5px; transition: 0.3s; }
        button:hover { background: var(--neon); color: #000; box-shadow: 0 0 15px var(--neon); }

        .info-bloco { background: rgba(255,255,255,0.05); padding: 20px; border-left: 5px solid var(--neon); margin-bottom: 20px; text-align: left; }
        .escondido { display: none !important; }
        
        /* ESTILO DOS BOTÕES DO QUIZ */
        .btn-quiz { display: block; width: 100%; margin: 10px 0; text-align: left; padding: 15px; border: 1px solid var(--neon); }
    </style>
</head>
<body>

    <section id="t-login" class="tela ativa">
        <div class="caixa-neon">
            <h1>SISTEMA_ACESSO</h1>
            <button onclick="irPara('t-selecao')">ENTRAR NO SISTEMA_</button>
        </div>
    </section>

    <section id="t-selecao" class="tela">
        <div class="caixa-neon">
            <h2>ESCOLHA OS ESPORTES</h2>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin: 20px 0;">
                <button onclick="selecionar('Futebol')">FUTEBOL</button>
                <button onclick="selecionar('Basquete')">BASQUETE</button>
                <button onclick="selecionar('Vôlei')">VÔLEI</button>
                <button onclick="selecionar('Ping Pong')">PING PONG</button>
            </div>
            <p id="txt-sel">Nenhum selecionado</p>
            <button id="btn-work" class="escondido" onclick="montarWork()">GERAR WORKSPACE_</button>
        </div>
    </section>

    <section id="t-work" class="tela">
        <div class="workspace">
            <aside class="sidebar" id="menu-lat"></aside>
            <main class="main">
                
                <div id="view-dados">
                    <h1 id="tit-esp">---</h1>
                    <div class="info-bloco"><b>DINÂMICA:</b> <p id="v-how"></p></div>
                    <div class="info-bloco"><b>REGRAS:</b> <p id="v-rules"></p></div>
                    <div class="info-bloco"><b>TÁTICA:</b> <p id="v-tactic"></p></div>
                    <div class="info-bloco"><b>TECH:</b> <p id="v-tech"></p></div>
                    <button style="width: 100%; background: var(--neon); color: black;" onclick="gerarQuiz()">DESBLOQUEAR VALIDAÇÃO_</button>
                </div>

                <div id="view-quiz" class="escondido">
                    <h2>VALIDAÇÃO_DE_CONHECIMENTO</h2>
                    <p id="pergunta-display" style="font-size: 1.2rem; margin-bottom: 20px;"></p>
                    <div id="container-opcoes"></div>
                </div>

                <div id="view-dossie" class="escondido">
                    <h2>DOSSIÊ_RESTRITO: CORINTHIANS</h2>
                    <div class="info-bloco" id="conteudo-timao"></div>
                    <button onclick="irPara('t-selecao')">VOLTAR AO INÍCIO</button>
                </div>

            </main>
        </div>
    </section>

    <script>
        const DB = {
            "Futebol": {
                h: "Onze contra onze. O objetivo é colocar a bola no gol usando os pés.",
                r: "90 minutos, Impedimento e VAR.",
                t: "4-3-3 Ofensivo e Marcação Alta.",
                te: "Chips na bola e GPS nos coletes.",
                q: "Quantos jogadores tem cada time em campo?",
                o: ["11 jogadores", "7 jogadores", "15 jogadores"],
                c: 0
            },
            "Basquete": {
                h: "Levar a bola até a cesta a 3,05m de altura.",
                r: "24 segundos de posse e 4 quartos.",
                t: "Pick and Roll e arremessos de 3.",
                te: "Sensores de impacto na tabela.",
                q: "Qual a altura da cesta de basquete?",
                o: ["2,50m", "3,05m", "3,50m"],
                c: 1
            },
            "Vôlei": {
                h: "Bola não pode cair no seu lado da quadra.",
                r: "Máximo de 3 toques e sets de 25 pontos.",
                t: "Rodízio e bloqueio triplo.",
                te: "Hawk-eye para conferência de linha.",
                q: "Quantos toques cada time pode dar na bola?",
                o: ["2 toques", "3 toques", "4 toques"],
                c: 1
            },
            "Ping Pong": {
                h: "Tênis de mesa de alta velocidade.",
                r: "Sets de 11 pontos e saque a cada 2 pontos.",
                t: "Efeitos de Topspin e Backspin.",
                te: "Raquetes de carbono.",
                q: "Até quantos pontos vai um set comum?",
                o: ["11 pontos", "15 pontos", "21 pontos"],
                c: 0
            }
        };

        const CORINTHIANS = {
            hist: "<b>Fundação:</b> 01/09/1910 por operários no Bom Retiro.<br><b>História:</b> O Time do Povo, fundado sob a luz de um lampião.<br><b>Títulos:</b> 2 Mundiais FIFA e 1 Libertadores Invicta.<br><b>Ídolos:</b> Sócrates, Cássio e Marcelinho Carioca."
        };

        let lista = [];
        let atual = "";

        function irPara(id) {
            document.querySelectorAll('.tela').forEach(t => t.classList.remove('ativa'));
            document.getElementById(id).classList.add('ativa');
        }

        function selecionar(s) {
            if(!lista.includes(s)) {
                lista.push(s);
                document.getElementById('btn-work').classList.remove('escondido');
                document.getElementById('txt-sel').innerText = "Selecionados: " + lista.join(', ');
            }
        }

        function montarWork() {
            irPara('t-work');
            const menu = document.getElementById('menu-lat');
            menu.innerHTML = "<h3>MENU</h3>";
            lista.forEach(s => {
                const b = document.createElement('button');
                b.innerText = s;
                b.onclick = () => carregar(s);
                menu.appendChild(b);
            });
            carregar(lista[0]);
        }

        function carregar(s) {
            atual = s;
            document.getElementById('view-dados').classList.remove('escondido');
            document.getElementById('view-quiz').classList.add('escondido');
            document.getElementById('view-dossie').classList.add('escondido');
            
            document.getElementById('tit-esp').innerText = s;
            document.getElementById('v-how').innerText = DB[s].h;
            document.getElementById('v-rules').innerText = DB[s].r;
            document.getElementById('v-tactic').innerText = DB[s].t;
            document.getElementById('v-tech').innerText = DB[s].te;
        }

        // --- MOTOR DO QUIZ CONSERTADO ---
        function gerarQuiz() {
            // 1. Esconde a teoria e mostra o quiz
            document.getElementById('view-dados').classList.add('escondido');
            document.getElementById('view-quiz').classList.remove('escondido');

            // 2. Pega os dados do esporte atual
            const perguntaObj = DB[atual];
            document.getElementById('pergunta-display').innerText = perguntaObj.q;

            // 3. Limpa os botões antigos e cria novos
            const container = document.getElementById('container-opcoes');
            container.innerHTML = ""; // Limpa tudo!

            perguntaObj.o.forEach((opcao, index) => {
                const btn = document.createElement('button');
                btn.className = "btn-quiz";
                btn.innerText = opcao;
                
                btn.onclick = function() {
                    if(index === perguntaObj.c) {
                        alert("ACERTOU! ACESSO LIBERADO.");
                        if(atual === "Futebol") {
                            // Se for futebol, mostra o Corinthians
                            document.getElementById('view-quiz').classList.add('escondido');
                            document.getElementById('view-dossie').classList.remove('escondido');
                            document.getElementById('conteudo-timao').innerHTML = CORINTHIANS.hist;
                        } else {
                            // Se for outro, volta para a teoria
                            carregar(atual);
                        }
                    } else {
                        alert("ERROU! TENTE NOVAMENTE.");
                    }
                };
                container.appendChild(btn);
            });
        }
    </script>
</body>
</html>
